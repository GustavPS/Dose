{"version":3,"sources":["../../../../../../build/webpack/plugins/mini-css-extract-plugin/src/index.js"],"names":["ConcatSource","SourceMapSource","OriginalSource","Template","createHash","sources","util","webpack","MODULE_TYPE","pluginName","REGEXP_CHUNKHASH","REGEXP_CONTENTHASH","REGEXP_NAME","REGEXP_PLACEHOLDERS","DEFAULT_FILENAME","getModulesIterable","compilation","chunk","isWebpack5","chunkGraph","getChunkModulesIterable","modulesIterable","CssDependencyTemplate","apply","CssModuleFactory","create","dependencies","dependency","callback","CssModule","MiniCssExtractPlugin","constructor","options","Object","assign","filename","moduleFilename","ignoreOrder","chunkFilename","match","replace","compiler","hooks","thisCompilation","tap","dependencyFactories","set","CssDependency","dependencyTemplates","renderManifestFn","result","renderedModules","Array","from","filter","module","type","length","push","render","renderContentAsset","runtimeTemplate","requestShortener","filenameTemplate","chunkData","pathOptions","contentHashType","identifier","id","hash","contentHash","renderManifest","mainTemplate","chunkTemplate","handleHashForChunk","test","update","JSON","stringify","getChunkMaps","name","JSModulesHooks","javascript","JavascriptModulesPlugin","getCompilationHooks","chunkHash","hasRuntime","hashForChunk","outputOptions","hashFunction","hashDigest","hashDigestLength","modules","xor","require","StringXor","m","add","getModuleHash","runtime","updateHash","digest","substring","localVars","source","chunkMap","getCssChunkObject","keys","asString","indent","ids","map","join","requireEnsure","chunkMaps","crossOriginLoading","getHash","args","renderCurrentHashCode","curHash","RuntimeGlobals","getFullHash","slice","getAssetPath","linkHrefPath","hashWithLength","shortChunkHashMap","chunkId","contentHashWithLength","shortContentHashMap","requireFn","mainChunk","obj","getAllAsyncChunks","usedModules","chunkGroup","groupsIterable","getModulePostOrderIndex","getModuleIndex2","moduleDependencies","Map","Set","moduleDependenciesReasons","modulesByChunkGroup","cg","sortedModules","index","item","undefined","sort","a","b","i","get","reasons","j","reason","unusedModulesFilter","has","size","success","bestMatch","bestMatchDeps","list","pop","deps","failedDeps","fallbackModule","warnings","Error","readableIdentifier","goodReasonsMap","goodReasons","failedChunkGroups","goodChunkGroups","Boolean","index2","externalsSource","content","media","sourceMap","loader","resolve"],"mappings":"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","sourcesContent":["/* eslint-disable class-methods-use-this */\n\nimport {\n  webpack,\n  isWebpack5,\n  onWebpackInit,\n  sources,\n} from 'next/dist/compiled/webpack/webpack'\n\nimport CssDependency from './CssDependency'\nimport CssModule from './CssModule'\n\n// Destructurings of live bindings must register for updates\nlet ConcatSource, SourceMapSource, OriginalSource, Template, createHash\nonWebpackInit(function () {\n  ;({ ConcatSource, SourceMapSource, OriginalSource } = sources)\n  ;({\n    Template,\n    util: { createHash },\n  } = webpack)\n})\n\nconst MODULE_TYPE = 'css/mini-extract'\n\nconst pluginName = 'mini-css-extract-plugin'\n\nconst REGEXP_CHUNKHASH = /\\[chunkhash(?::(\\d+))?\\]/i\nconst REGEXP_CONTENTHASH = /\\[contenthash(?::(\\d+))?\\]/i\nconst REGEXP_NAME = /\\[name\\]/i\nconst REGEXP_PLACEHOLDERS = /\\[(name|id|chunkhash)\\]/g\nconst DEFAULT_FILENAME = '[name].css'\n\nfunction getModulesIterable(compilation, chunk) {\n  if (isWebpack5) {\n    return compilation.chunkGraph.getChunkModulesIterable(chunk)\n  }\n\n  return chunk.modulesIterable\n}\n\nclass CssDependencyTemplate {\n  apply() {}\n}\n\nclass CssModuleFactory {\n  create({ dependencies: [dependency] }, callback) {\n    callback(null, new CssModule(dependency))\n  }\n}\n\nclass MiniCssExtractPlugin {\n  constructor(options = {}) {\n    this.options = Object.assign(\n      {\n        filename: DEFAULT_FILENAME,\n        moduleFilename: () => this.options.filename || DEFAULT_FILENAME,\n        ignoreOrder: false,\n      },\n      options\n    )\n\n    if (!this.options.chunkFilename) {\n      const { filename } = this.options\n\n      // Anything changing depending on chunk is fine\n      if (filename.match(REGEXP_PLACEHOLDERS)) {\n        this.options.chunkFilename = filename\n      } else {\n        // Elsewise prefix '[id].' in front of the basename to make it changing\n        this.options.chunkFilename = filename.replace(\n          /(^|\\/)([^/]*(?:\\?|$))/,\n          '$1[id].$2'\n        )\n      }\n    }\n  }\n\n  apply(compiler) {\n    compiler.hooks.thisCompilation.tap(pluginName, (compilation) => {\n      compilation.dependencyFactories.set(CssDependency, new CssModuleFactory())\n\n      compilation.dependencyTemplates.set(\n        CssDependency,\n        new CssDependencyTemplate()\n      )\n\n      const renderManifestFn = (result, { chunk }) => {\n        const renderedModules = Array.from(\n          getModulesIterable(compilation, chunk)\n        ).filter((module) => module.type === MODULE_TYPE)\n\n        if (renderedModules.length > 0) {\n          result.push({\n            render: () =>\n              this.renderContentAsset(\n                compilation,\n                chunk,\n                renderedModules,\n                compilation.runtimeTemplate.requestShortener\n              ),\n            filenameTemplate: ({ chunk: chunkData }) =>\n              this.options.moduleFilename(chunkData),\n            pathOptions: {\n              chunk,\n              contentHashType: MODULE_TYPE,\n            },\n            identifier: `${pluginName}.${chunk.id}`,\n            hash: chunk.contentHash[MODULE_TYPE],\n          })\n        }\n      }\n\n      if (isWebpack5) {\n        compilation.hooks.renderManifest.tap(pluginName, renderManifestFn)\n      } else {\n        // In webpack 5 the 2 separate hooks are now one hook: `compilation.hooks.renderManifest`\n        // So we no longer have to double-apply the same function\n        compilation.mainTemplate.hooks.renderManifest.tap(\n          pluginName,\n          renderManifestFn\n        )\n        compilation.chunkTemplate.hooks.renderManifest.tap(\n          pluginName,\n          renderManifestFn\n        )\n      }\n\n      const handleHashForChunk = (hash, chunk) => {\n        const { chunkFilename } = this.options\n\n        if (REGEXP_CHUNKHASH.test(chunkFilename)) {\n          hash.update(JSON.stringify(chunk.getChunkMaps(true).hash))\n        }\n\n        if (REGEXP_CONTENTHASH.test(chunkFilename)) {\n          hash.update(\n            JSON.stringify(\n              chunk.getChunkMaps(true).contentHash[MODULE_TYPE] || {}\n            )\n          )\n        }\n\n        if (REGEXP_NAME.test(chunkFilename)) {\n          hash.update(JSON.stringify(chunk.getChunkMaps(true).name))\n        }\n      }\n      if (isWebpack5) {\n        const JSModulesHooks = webpack.javascript.JavascriptModulesPlugin.getCompilationHooks(\n          compilation\n        )\n        JSModulesHooks.chunkHash.tap(pluginName, (chunk, hash) => {\n          if (!chunk.hasRuntime()) return\n          return handleHashForChunk(hash, chunk)\n        })\n      } else {\n        compilation.mainTemplate.hooks.hashForChunk.tap(\n          pluginName,\n          handleHashForChunk\n        )\n      }\n\n      compilation.hooks.contentHash.tap(pluginName, (chunk) => {\n        const { outputOptions } = compilation\n        const { hashFunction, hashDigest, hashDigestLength } = outputOptions\n        const hash = createHash(hashFunction)\n\n        const modules = getModulesIterable(compilation, chunk)\n\n        if (modules) {\n          if (isWebpack5) {\n            const xor = new (require('next/dist/compiled/webpack/webpack').StringXor)()\n            for (const m of modules) {\n              if (m.type === MODULE_TYPE) {\n                xor.add(compilation.chunkGraph.getModuleHash(m, chunk.runtime))\n              }\n            }\n            xor.updateHash(hash)\n          } else {\n            for (const m of modules) {\n              if (m.type === MODULE_TYPE) {\n                m.updateHash(hash)\n              }\n            }\n          }\n        }\n\n        const { contentHash } = chunk\n\n        contentHash[MODULE_TYPE] = hash\n          .digest(hashDigest)\n          .substring(0, hashDigestLength)\n      })\n\n      const { mainTemplate } = compilation\n\n      mainTemplate.hooks.localVars.tap(pluginName, (source, chunk) => {\n        const chunkMap = this.getCssChunkObject(compilation, chunk)\n\n        if (Object.keys(chunkMap).length > 0) {\n          return Template.asString([\n            source,\n            '',\n            '// object to store loaded CSS chunks',\n            'var installedCssChunks = {',\n            Template.indent(\n              chunk.ids.map((id) => `${JSON.stringify(id)}: 0`).join(',\\n')\n            ),\n            '};',\n          ])\n        }\n\n        return source\n      })\n\n      mainTemplate.hooks.requireEnsure.tap(\n        pluginName,\n        (source, chunk, hash) => {\n          const chunkMap = this.getCssChunkObject(compilation, chunk)\n\n          if (Object.keys(chunkMap).length > 0) {\n            const chunkMaps = chunk.getChunkMaps()\n            const { crossOriginLoading } = isWebpack5\n              ? compilation.outputOptions\n              : mainTemplate.outputOptions\n\n            const getHash = !isWebpack5\n              ? (...args) => mainTemplate.renderCurrentHashCode(...args)\n              : (curHash, length) => {\n                  if (length) {\n                    return `${webpack.RuntimeGlobals.getFullHash} ? ${\n                      webpack.RuntimeGlobals.getFullHash\n                    }().slice(0, ${length}) : ${curHash.slice(0, length)}`\n                  }\n                  return `${webpack.RuntimeGlobals.getFullHash} ? ${webpack.RuntimeGlobals.getFullHash}() : ${curHash}`\n                }\n\n            const getAssetPath = isWebpack5\n              ? (...args) => compilation.getAssetPath(...args)\n              : (...args) => mainTemplate.getAssetPath(...args)\n\n            const linkHrefPath = getAssetPath(\n              JSON.stringify(this.options.chunkFilename),\n              {\n                hash: `\" + ${getHash(hash)} + \"`,\n                hashWithLength: (length) => `\" + ${getHash(hash, length)} + \"`,\n                chunk: {\n                  id: '\" + chunkId + \"',\n                  hash: `\" + ${JSON.stringify(chunkMaps.hash)}[chunkId] + \"`,\n                  hashWithLength(length) {\n                    const shortChunkHashMap = Object.create(null)\n\n                    for (const chunkId of Object.keys(chunkMaps.hash)) {\n                      if (typeof chunkMaps.hash[chunkId] === 'string') {\n                        shortChunkHashMap[chunkId] = chunkMaps.hash[\n                          chunkId\n                        ].substring(0, length)\n                      }\n                    }\n\n                    return `\" + ${JSON.stringify(\n                      shortChunkHashMap\n                    )}[chunkId] + \"`\n                  },\n                  contentHash: {\n                    [MODULE_TYPE]: `\" + ${JSON.stringify(\n                      chunkMaps.contentHash[MODULE_TYPE]\n                    )}[chunkId] + \"`,\n                  },\n                  contentHashWithLength: {\n                    [MODULE_TYPE]: (length) => {\n                      const shortContentHashMap = {}\n                      const contentHash = chunkMaps.contentHash[MODULE_TYPE]\n\n                      for (const chunkId of Object.keys(contentHash)) {\n                        if (typeof contentHash[chunkId] === 'string') {\n                          shortContentHashMap[chunkId] = contentHash[\n                            chunkId\n                          ].substring(0, length)\n                        }\n                      }\n\n                      return `\" + ${JSON.stringify(\n                        shortContentHashMap\n                      )}[chunkId] + \"`\n                    },\n                  },\n                  name: `\" + (${JSON.stringify(\n                    chunkMaps.name\n                  )}[chunkId]||chunkId) + \"`,\n                },\n                contentHashType: MODULE_TYPE,\n              }\n            )\n\n            return Template.asString([\n              source,\n              '',\n              `// ${pluginName} CSS loading`,\n              `var cssChunks = ${JSON.stringify(chunkMap)};`,\n              'if(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);',\n              'else if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {',\n              Template.indent([\n                'promises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {',\n                Template.indent([\n                  `var href = ${linkHrefPath};`,\n                  `var fullhref = ${\n                    isWebpack5 ? '__webpack_require__' : mainTemplate.requireFn\n                  }.p + href;`,\n                  'var existingLinkTags = document.getElementsByTagName(\"link\");',\n                  'for(var i = 0; i < existingLinkTags.length; i++) {',\n                  Template.indent([\n                    'var tag = existingLinkTags[i];',\n                    'var dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");',\n                    'if(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();',\n                  ]),\n                  '}',\n                  'var existingStyleTags = document.getElementsByTagName(\"style\");',\n                  'for(var i = 0; i < existingStyleTags.length; i++) {',\n                  Template.indent([\n                    'var tag = existingStyleTags[i];',\n                    'var dataHref = tag.getAttribute(\"data-href\");',\n                    'if(dataHref === href || dataHref === fullhref) return resolve();',\n                  ]),\n                  '}',\n                  'var linkTag = document.createElement(\"link\");',\n                  'linkTag.rel = \"stylesheet\";',\n                  'linkTag.type = \"text/css\";',\n                  'linkTag.onload = resolve;',\n                  'linkTag.onerror = function(event) {',\n                  Template.indent([\n                    'var request = event && event.target && event.target.src || fullhref;',\n                    'var err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\\\n(\" + request + \")\");',\n                    'err.code = \"CSS_CHUNK_LOAD_FAILED\";',\n                    'err.request = request;',\n                    'delete installedCssChunks[chunkId]',\n                    'linkTag.parentNode.removeChild(linkTag)',\n                    'reject(err);',\n                  ]),\n                  '};',\n                  'linkTag.href = fullhref;',\n                  crossOriginLoading\n                    ? Template.asString([\n                        `if (linkTag.href.indexOf(window.location.origin + '/') !== 0) {`,\n                        Template.indent(\n                          `linkTag.crossOrigin = ${JSON.stringify(\n                            crossOriginLoading\n                          )};`\n                        ),\n                        '}',\n                      ])\n                    : '',\n                  'var head = document.getElementsByTagName(\"head\")[0];',\n                  'head.appendChild(linkTag);',\n                ]),\n                '}).then(function() {',\n                Template.indent(['installedCssChunks[chunkId] = 0;']),\n                '}));',\n              ]),\n              '}',\n            ])\n          }\n\n          return source\n        }\n      )\n    })\n  }\n\n  getCssChunkObject(compilation, mainChunk) {\n    const obj = {}\n\n    for (const chunk of mainChunk.getAllAsyncChunks()) {\n      for (const module of getModulesIterable(compilation, chunk)) {\n        if (module.type === MODULE_TYPE) {\n          obj[chunk.id] = 1\n          break\n        }\n      }\n    }\n\n    return obj\n  }\n\n  renderContentAsset(compilation, chunk, modules, requestShortener) {\n    let usedModules\n\n    const [chunkGroup] = chunk.groupsIterable\n\n    const getModulePostOrderIndex =\n      chunkGroup.getModulePostOrderIndex || chunkGroup.getModuleIndex2\n    if (typeof getModulePostOrderIndex === 'function') {\n      // Store dependencies for modules\n      const moduleDependencies = new Map(modules.map((m) => [m, new Set()]))\n      const moduleDependenciesReasons = new Map(\n        modules.map((m) => [m, new Map()])\n      )\n\n      // Get ordered list of modules per chunk group\n      // This loop also gathers dependencies from the ordered lists\n      // Lists are in reverse order to allow to use Array.pop()\n      const modulesByChunkGroup = Array.from(chunk.groupsIterable, (cg) => {\n        const sortedModules = modules\n          .map((m) => {\n            return {\n              module: m,\n              index: isWebpack5\n                ? cg.getModulePostOrderIndex(m)\n                : cg.getModuleIndex2(m),\n            }\n          })\n          // eslint-disable-next-line no-undefined\n          .filter((item) => item.index !== undefined)\n          .sort((a, b) => b.index - a.index)\n          .map((item) => item.module)\n\n        for (let i = 0; i < sortedModules.length; i++) {\n          const set = moduleDependencies.get(sortedModules[i])\n          const reasons = moduleDependenciesReasons.get(sortedModules[i])\n\n          for (let j = i + 1; j < sortedModules.length; j++) {\n            const module = sortedModules[j]\n            set.add(module)\n            const reason = reasons.get(module) || new Set()\n            reason.add(cg)\n            reasons.set(module, reason)\n          }\n        }\n\n        return sortedModules\n      })\n\n      // set with already included modules in correct order\n      usedModules = new Set()\n\n      const unusedModulesFilter = (m) => !usedModules.has(m)\n\n      while (usedModules.size < modules.length) {\n        let success = false\n        let bestMatch\n        let bestMatchDeps\n\n        // get first module where dependencies are fulfilled\n        for (const list of modulesByChunkGroup) {\n          // skip and remove already added modules\n          while (list.length > 0 && usedModules.has(list[list.length - 1])) {\n            list.pop()\n          }\n\n          // skip empty lists\n          if (list.length !== 0) {\n            const module = list[list.length - 1]\n            const deps = moduleDependencies.get(module)\n            // determine dependencies that are not yet included\n            const failedDeps = Array.from(deps).filter(unusedModulesFilter)\n\n            // store best match for fallback behavior\n            if (!bestMatchDeps || bestMatchDeps.length > failedDeps.length) {\n              bestMatch = list\n              bestMatchDeps = failedDeps\n            }\n\n            if (failedDeps.length === 0) {\n              // use this module and remove it from list\n              usedModules.add(list.pop())\n              success = true\n              break\n            }\n          }\n        }\n\n        if (!success) {\n          // no module found => there is a conflict\n          // use list with fewest failed deps\n          // and emit a warning\n          const fallbackModule = bestMatch.pop()\n\n          if (!this.options.ignoreOrder) {\n            const reasons = moduleDependenciesReasons.get(fallbackModule)\n            compilation.warnings.push(\n              new Error(\n                [\n                  `chunk ${chunk.name || chunk.id} [${pluginName}]`,\n                  'Conflicting order. Following module has been added:',\n                  ` * ${fallbackModule.readableIdentifier(requestShortener)}`,\n                  'despite it was not able to fulfill desired ordering with these modules:',\n                  ...bestMatchDeps.map((m) => {\n                    const goodReasonsMap = moduleDependenciesReasons.get(m)\n                    const goodReasons =\n                      goodReasonsMap && goodReasonsMap.get(fallbackModule)\n                    const failedChunkGroups = Array.from(\n                      reasons.get(m),\n                      (cg) => cg.name\n                    ).join(', ')\n                    const goodChunkGroups =\n                      goodReasons &&\n                      Array.from(goodReasons, (cg) => cg.name).join(', ')\n                    return [\n                      ` * ${m.readableIdentifier(requestShortener)}`,\n                      `   - couldn't fulfill desired order of chunk group(s) ${failedChunkGroups}`,\n                      goodChunkGroups &&\n                        `   - while fulfilling desired order of chunk group(s) ${goodChunkGroups}`,\n                    ]\n                      .filter(Boolean)\n                      .join('\\n')\n                  }),\n                ].join('\\n')\n              )\n            )\n          }\n\n          usedModules.add(fallbackModule)\n        }\n      }\n    } else {\n      // fallback for older webpack versions\n      // (to avoid a breaking change)\n      // TODO remove this in next major version\n      // and increase minimum webpack version to 4.12.0\n      modules.sort((a, b) => a.index2 - b.index2)\n      usedModules = modules\n    }\n\n    const source = new ConcatSource()\n    const externalsSource = new ConcatSource()\n\n    for (const m of usedModules) {\n      if (/^@import url/.test(m.content)) {\n        // HACK for IE\n        // http://stackoverflow.com/a/14676665/1458162\n        let { content } = m\n\n        if (m.media) {\n          // insert media into the @import\n          // this is rar\n          // TODO improve this and parse the CSS to support multiple medias\n          content = content.replace(/;|\\s*$/, m.media)\n        }\n\n        externalsSource.add(content)\n        externalsSource.add('\\n')\n      } else {\n        if (m.media) {\n          source.add(`@media ${m.media} {\\n`)\n        }\n\n        if (m.sourceMap) {\n          source.add(\n            new SourceMapSource(\n              m.content,\n              m.readableIdentifier(requestShortener),\n              m.sourceMap\n            )\n          )\n        } else {\n          source.add(\n            new OriginalSource(\n              m.content,\n              m.readableIdentifier(requestShortener)\n            )\n          )\n        }\n        source.add('\\n')\n\n        if (m.media) {\n          source.add('}\\n')\n        }\n      }\n    }\n\n    return new ConcatSource(externalsSource, source)\n  }\n}\n\nMiniCssExtractPlugin.loader = require.resolve('./loader')\n\nexport default MiniCssExtractPlugin\n"]}