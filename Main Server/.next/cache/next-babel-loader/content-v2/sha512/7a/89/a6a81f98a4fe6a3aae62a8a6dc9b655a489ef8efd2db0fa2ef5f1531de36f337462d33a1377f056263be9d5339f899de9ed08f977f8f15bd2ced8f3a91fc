{"ast":null,"code":"var _jsxFileName = \"/mnt/h/Code/Dose/Main Server/pages/server/[server]/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../../components/layout';\nimport Head from 'next/head';\nimport fetch from 'node-fetch';\nimport cookie from 'js-cookie';\nimport Router from 'next/router';\nimport { useEffect, useState } from 'react';\nimport { Carousel, Container, Row, Col } from 'react-bootstrap';\nimport Link from 'next/link';\nimport validateServerAccess from '../../../lib/validateServerAccess';\nimport useWindowSize from '../../../components/hooks/WindowSize';\nimport Styles from '../../../styles/server.module.css';\nimport MovieBackdrop from '../../../components/movieBackdrop';\nimport EpisodePoster from '../../../components/episodePoster';\nimport socketIOClient from \"socket.io-client\";\nimport { useTransition, animated, setItems } from 'react-spring';\n\nconst fetcher = url => fetch(url).then(r => {\n  return r.json().then(result => {\n    return result;\n  });\n});\n\nconst main = props => {\n  // props.server is from the SSR under this function\n  let server = props.server;\n  const {\n    0: latestMovies,\n    1: setLatesMovies\n  } = useState(null);\n  const {\n    0: ongoingMovies,\n    1: setOngoingMovies\n  } = useState([]);\n  const {\n    0: movieWatchList,\n    1: setMovieWatchList\n  } = useState([]);\n  const {\n    0: ongoingShows,\n    1: setOngoingShows\n  } = useState([]);\n  const {\n    0: newlyAddedMovies,\n    1: setNewlyAddedMovies\n  } = useState([]);\n  const {\n    0: newlyAddedShows,\n    1: setNewlyAddedShows\n  } = useState([]);\n  const {\n    0: newlyAddedEpisodes,\n    1: setNewlyAddedEpisodes\n  } = useState([]);\n  const {\n    0: recommendedMovie,\n    1: setRecommendedMovie\n  } = useState(false);\n  const {\n    0: popularMovies,\n    1: setPopularMovies\n  } = useState([]);\n  let loading = 0;\n  const {\n    0: loaded,\n    1: setLoaded\n  } = useState(false);\n  const transitions = useTransition(newlyAddedMovies, {\n    from: {\n      opacity: 0\n    },\n    enter: {\n      opacity: 1\n    },\n    leave: {\n      opacity: 0\n    },\n    delay: 200\n  });\n  const windowSize = useWindowSize();\n  let allContent = [];\n  /**\r\n   * Makes a query to the current active server for a list of movies\r\n   * \r\n   * @param {string} genre \r\n   * @param {string} orderby \r\n   * @param {int} limit \r\n   */\n\n  const getMovieList = async (genre = null, orderby = null, limit = 20, ongoing = false, watchlist = false, popular = false) => {\n    return new Promise((resolve, reject) => {\n      let url;\n\n      if (ongoing) {\n        url = `${server.server_ip}/api/movies/list/ongoing?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      } else if (watchlist) {\n        url = `${server.server_ip}/api/movies/list/watchlist?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      } else if (popular) {\n        url = `${server.server_ip}/api/movies/list/popular?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      } else {\n        url = `${server.server_ip}/api/movies/list${genre !== null ? '/genre/' + genre : ''}?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      }\n\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          limit: 20\n        })\n      }).then(r => r.json()).then(response => {\n        // Mark the movies active image\n        response.result.forEach(movie => {\n          for (let image of movie.images) {\n            if (image.active) {\n              if (image.type === 'BACKDROP') {\n                if (image.path === 'no_image') {\n                  movie.backdrop = null;\n                } else {\n                  movie.backdrop = image.path;\n                }\n              } else {\n                if (image.path === 'no_image') {\n                  movie.backdrop = null;\n                } else {\n                  movie.poster = image.path;\n                }\n              }\n\n              if (movie.backdrop != null && movie.poster != null) {\n                break;\n              }\n            }\n          }\n        });\n        resolve(response.result);\n      });\n    });\n  };\n  /**\r\n   * Makes a query to the current active server for a list of new episodes\r\n   * \r\n   * @param {string} genre \r\n   * @param {string} orderby \r\n   * @param {int} limit \r\n   */\n\n\n  const getNewEpisodeList = async (orderby = null, limit = 20) => {\n    return new Promise((resolve, reject) => {\n      let url;\n      url = `${server.server_ip}/api/series/list/episodes?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          limit: 20\n        })\n      }).then(r => r.json()).then(response => {\n        // Mark the movies active image\n        response.result.forEach(episode => {\n          for (let image of episode.images) {\n            if (image.active) {\n              if (image.type === 'BACKDROP') {\n                if (image.path === 'no_image') {\n                  episode.backdrop = null;\n                } else {\n                  episode.backdrop = image.path;\n                }\n              } else if (image.type === 'POSTER') {\n                if (image.path === 'no_image') {\n                  episode.poster = null;\n                } else {\n                  episode.poster = image.path;\n                }\n              } else {\n                if (image.path === 'no_image') {\n                  episode.backdrop = null;\n                } else {\n                  episode.poster = image.path;\n                }\n              }\n\n              if (episode.backdrop != null && episode.poster != null) {\n                break;\n              }\n            }\n          }\n        });\n        console.log(response.result);\n        resolve(response.result);\n      });\n    });\n  };\n\n  const getShowList = async (genre = null, orderby = null, limit = 20, ongoing = false) => {\n    return new Promise((resolve, reject) => {\n      let url;\n\n      if (ongoing) {\n        url = `${server.server_ip}/api/series/list/ongoing?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      } else {\n        url = `${server.server_ip}/api/series/list${genre !== null ? '/genre/' + genre : ''}?${orderby !== null ? 'orderby=' + orderby + '&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`;\n      }\n\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          limit: 20\n        })\n      }).then(r => r.json()).then(response => {\n        // Mark the movies active image\n        if (ongoing) {\n          response.upcoming.forEach(movie => {\n            for (let image of movie.images) {\n              if (image.active) {\n                if (image.type === 'BACKDROP') {\n                  if (image.path === 'no_image') {\n                    movie.backdrop = null;\n                  } else {\n                    movie.backdrop = image.path;\n                  }\n                } else {\n                  if (image.path === 'no_image') {\n                    movie.backdrop = null;\n                  } else {\n                    movie.poster = image.path;\n                  }\n                }\n\n                if (movie.backdrop != null && movie.poster != null) {\n                  break;\n                }\n              }\n            }\n          });\n          response.ongoing.forEach(movie => {\n            for (let image of movie.images) {\n              if (image.active) {\n                if (image.type === 'BACKDROP') {\n                  if (image.path === 'no_image') {\n                    movie.backdrop = null;\n                  } else {\n                    movie.backdrop = image.path;\n                  }\n                } else {\n                  if (image.path === 'no_image') {\n                    movie.backdrop = null;\n                  } else {\n                    movie.poster = image.path;\n                  }\n                }\n\n                if (movie.backdrop != null && movie.poster != null) {\n                  break;\n                }\n              }\n            }\n          });\n          resolve(response);\n          return;\n        }\n\n        response.result.forEach(movie => {\n          for (let image of movie.images) {\n            if (image.active) {\n              if (image.type === 'BACKDROP') {\n                if (image.path === 'no_image') {\n                  movie.backdrop = null;\n                } else {\n                  movie.backdrop = image.path;\n                }\n              } else {\n                if (image.path === 'no_image') {\n                  movie.backdrop = null;\n                } else {\n                  movie.poster = image.path;\n                }\n              }\n\n              if (movie.backdrop != null && movie.poster != null) {\n                break;\n              }\n            }\n          }\n        });\n        resolve(response.result);\n      });\n    });\n  };\n\n  const getActiveImage = (images, type) => {\n    for (let image of images) {\n      if (image.type === type && image.active && image.path != \"no_image\") {\n        return image;\n      }\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    validateServerAccess(server, serverToken => {\n      const socket = socketIOClient(server.server_ip);\n      socket.on(\"MOVIE\", movie => {\n        console.log(movie);\n        let movieElements = newlyAddedMovies;\n        let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n        movieElements.push(__jsx(MovieBackdrop, {\n          markAsDoneButton: true,\n          id: movie.id,\n          time: movie.watchtime,\n          runtime: movie.runtime,\n          title: movie.title,\n          overview: movie.overview,\n          runtime: movie.runtime,\n          backdrop: img,\n          onClick: id => selectMovie(movie.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 21\n          }\n        }));\n        setNewlyAddedMovies(movieElements);\n      }); // Get recommended video (random video right now)\n\n      fetch(`${server.server_ip}/api/movies/list/random?trailer=true&token=${cookie.get('serverToken')}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(r => r.json()).then(result => {\n        if (result.status === 'success') {\n          result.movie.activeLogo = getActiveImage(result.movie.images, 'LOGO');\n          console.log(result);\n          setRecommendedMovie(result.movie);\n        } else {\n          console.log(\"Error getting recommended movie\");\n        }\n      }); // Get all the newest released movies (The slieshow)\n\n      getMovieList(null, 'release_date', 5).then(movies => {\n        movies.reverse();\n        let movieElements = [];\n\n        for (let movie of movies) {\n          let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/original/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          movieElements.push(__jsx(Carousel.Item, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 25\n            }\n          }, __jsx(\"img\", {\n            className: \"d-block w-100\",\n            src: img,\n            alt: movie.title,\n            style: {\n              objectFit: 'cover',\n              height: '90vh',\n              minHeight: '500px',\n              cursor: 'pointer'\n            },\n            onClick: () => {\n              selectMovie(movie.id);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }\n          }), __jsx(Carousel.Caption, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }\n          }, __jsx(\"h3\", {\n            style: {\n              textShadow: '0px 0px 6px #000'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 33\n            }\n          }, movie.title), __jsx(\"p\", {\n            style: {\n              textShadow: '0px 0px 6px #000'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 33\n            }\n          }, movie.overview))));\n        }\n\n        loading++;\n        setLatesMovies(movieElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get popular movies\n\n      getMovieList(null, 'release_date', 20, false, false, true).then(movies => {\n        movies.reverse();\n        let movieElements = [];\n\n        for (let movie of movies) {\n          let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          movieElements.push(__jsx(MovieBackdrop, {\n            markAsDoneButton: true,\n            id: movie.id,\n            time: movie.watchtime,\n            runtime: movie.runtime,\n            title: movie.title,\n            overview: movie.overview,\n            runtime: movie.runtime,\n            backdrop: img,\n            onClick: id => selectMovie(movie.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setPopularMovies(movieElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get ongoing movies\n\n      getMovieList(null, 'release_date', 20, true).then(movies => {\n        movies.reverse();\n        let movieElements = [];\n\n        for (let movie of movies) {\n          let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          movieElements.push(__jsx(MovieBackdrop, {\n            markAsDoneButton: true,\n            id: movie.id,\n            time: movie.watchtime,\n            runtime: movie.runtime,\n            title: movie.title,\n            overview: movie.overview,\n            runtime: movie.runtime,\n            backdrop: img,\n            onClick: id => selectMovie(movie.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setOngoingMovies(movieElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get watchlist for movies\n\n      getMovieList(null, 'release_date', 20, false, true).then(movies => {\n        movies.reverse();\n        let movieElements = [];\n\n        for (let movie of movies) {\n          let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          movieElements.push(__jsx(MovieBackdrop, {\n            markAsDoneButton: true,\n            id: movie.id,\n            time: movie.watchtime,\n            runtime: movie.runtime,\n            title: movie.title,\n            overview: movie.overview,\n            runtime: movie.runtime,\n            backdrop: img,\n            onClick: id => selectMovie(movie.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setMovieWatchList(movieElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get newly added movies\n\n      getMovieList(null, 'added_date', 20).then(movies => {\n        let movieElements = [];\n\n        for (let movie of movies) {\n          let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          movieElements.push(__jsx(MovieBackdrop, {\n            markAsDoneButton: true,\n            id: movie.id,\n            time: movie.watchtime,\n            runtime: movie.runtime,\n            title: movie.title,\n            overview: movie.overview,\n            runtime: movie.runtime,\n            backdrop: img,\n            onClick: id => selectMovie(movie.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setNewlyAddedMovies(movieElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get newly added shows\n\n      getShowList(null, 'added_date', 20).then(shows => {\n        let showElements = [];\n\n        for (let show of shows) {\n          let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          showElements.push(__jsx(MovieBackdrop, {\n            markAsDoneButton: true,\n            id: show.id,\n            time: show.watchtime,\n            runtime: show.runtime,\n            title: show.title,\n            overview: show.overview,\n            runtime: show.runtime,\n            backdrop: img,\n            onClick: id => selectShow(show.id),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setNewlyAddedShows(showElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      }); // Get ongoing shows\n\n      getShowList(null, 'added_date', 20, true).then(result => {\n        let showElements = [];\n\n        for (let show of result.upcoming) {\n          let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          showElements.push(__jsx(MovieBackdrop, {\n            showTitle: true,\n            markAsDoneButton: true,\n            id: show.id,\n            time: show.time_watched,\n            runtime: show.runtime,\n            title: show.season_name + \" - Episode \" + show.episode_number,\n            overview: show.overview,\n            runtime: show.total_time,\n            backdrop: img,\n            onClick: id => selectEpisode(show.show_id, show.season_number, show.episode_number, show.internalepisodeid),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        for (let show of result.ongoing) {\n          let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000';\n          showElements.push(__jsx(MovieBackdrop, {\n            showTitle: true,\n            markAsDoneButton: true,\n            id: show.id,\n            time: show.time_watched,\n            runtime: show.runtime,\n            title: show.season_name + \" - Episode \" + show.episode_number,\n            overview: show.overview,\n            runtime: show.total_time,\n            backdrop: img,\n            onClick: id => selectEpisode(show.show_id, show.season_number, show.episode_number, show.internalepisodeid),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setOngoingShows(showElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      });\n      getNewEpisodeList('added_date', 20).then(episodes => {\n        let episodeElements = [];\n\n        for (let episode of episodes) {\n          let poster = episode.poster !== null ? `https://image.tmdb.org/t/p/w500/${episode.poster}` : 'https://via.placeholder.com/500x1000';\n          let backdrop = episode.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${episode.backdrop}` : 'https://via.placeholder.com/500x1000';\n          episodeElements.push(__jsx(EpisodePoster, {\n            show: episode.serie_id,\n            season: episode.season,\n            episode: episode.episode,\n            poster: poster,\n            internalEpisodeID: episode.internalepisodeid,\n            backdrop: backdrop,\n            onClick: (season, episode, show, internalEpisodeID) => selectEpisode(show, season, episode, internalEpisodeID),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 25\n            }\n          }));\n        }\n\n        loading++;\n        setNewlyAddedEpisodes(episodeElements);\n      }).then(() => {\n        if (loading == 7) {\n          setLoaded(true);\n        }\n      });\n    });\n  }, [loading]);\n\n  const selectMovie = id => {\n    Router.push(`/server/${server.server_id}/movies/video/${id}`);\n  };\n\n  const selectShow = id => {\n    Router.push(`/server/${server.server_id}/shows/video/${id}`);\n  };\n\n  const selectEpisode = (showID, seasonNumber, episodeNumber, internalEpisodeID) => {\n    Router.push(`/server/${server.server_id}/shows/video/${showID}/season/${seasonNumber}/episode/${episodeNumber}?internalID=${internalEpisodeID}`);\n  };\n\n  const scrollLeft = id => {\n    document.getElementById(id).scrollLeft -= window.innerWidth * 0.8;\n    window.scrollTo(window.scrollX, window.scrollY - 1);\n    window.scrollTo(window.scrollX, window.scrollY + 1);\n  };\n\n  const scrollRight = id => {\n    document.getElementById(id).scrollLeft += window.innerWidth * 0.8;\n    window.scrollTo(window.scrollX, window.scrollY - 1);\n    window.scrollTo(window.scrollX, window.scrollY + 1);\n  }; // LAYOUT //\n\n\n  return __jsx(React.Fragment, null, !loaded && __jsx(\"div\", {\n    className: Styles.loadingioSpinnerEclipse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: Styles.ldio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 17\n    }\n  }))), loaded && __jsx(Layout, {\n    searchEnabled: true,\n    server: server,\n    serverToken: cookie.get('serverToken'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 9\n    }\n  }), recommendedMovie != false && __jsx(\"div\", {\n    className: Styles.recommended,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 13\n    }\n  }, __jsx(\"video\", {\n    autoPlay: true,\n    loop: true,\n    preload: \"auto\",\n    muted: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 17\n    }\n  }, __jsx(\"source\", {\n    src: `${server.server_ip}/api/trailer/${recommendedMovie[\"id\"]}?type=MOVIE&token=${cookie.get('serverToken')}`,\n    type: \"video/mp4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: Styles.recommendedInformation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 17\n    }\n  }, recommendedMovie[\"activeLogo\"] != false && __jsx(\"img\", {\n    src: `https://image.tmdb.org/t/p/original/${recommendedMovie[\"activeLogo\"].path}`,\n    className: Styles.logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 21\n    }\n  }), recommendedMovie[\"activeLogo\"] == false && __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 21\n    }\n  }, recommendedMovie[\"title\"]), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 21\n    }\n  }, recommendedMovie[\"overview\"]), __jsx(\"div\", {\n    className: Styles.controls,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: `/server/${server.server_id}/movies/video/${recommendedMovie[\"id\"]}?autoPlay=true`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/001-play-button.png`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 29\n    }\n  })), __jsx(Link, {\n    href: `/server/${server.server_id}/movies/video/${recommendedMovie[\"id\"]}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/002-information.png`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 29\n    }\n  }))))), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    fluid: true,\n    className: Styles.contentRows,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 13\n    }\n  }, popularMovies.length > 0 && __jsx(React.Fragment, null, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 25\n    }\n  }, \"Popul\\xE4rt just nu\"), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"popularMovies\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 29\n    }\n  }, popularMovies), popularMovies.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('popularMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('popularMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 21\n    }\n  })), ongoingMovies.length > 0 && __jsx(React.Fragment, null, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 25\n    }\n  }, \"P\\xE5g\\xE5ende filmer\"), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"ongoingMovies\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 29\n    }\n  }, ongoingMovies), ongoingMovies.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('ongoingMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('ongoingMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 21\n    }\n  })), ongoingShows.length > 0 && __jsx(React.Fragment, null, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 25\n    }\n  }, \"P\\xE5g\\xE5ende serier\"), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"ongoingShows\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 29\n    }\n  }, ongoingShows), ongoingShows.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('ongoingShows'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 611,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('ongoingShows'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 614,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 615,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 21\n    }\n  })), newlyAddedMovies.length > 0 && __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"/server/\" + server.server_id + \"/movies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 80\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 108\n    }\n  }, \"Nyligen tillagda filmer\"))), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 627,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"newlyAddedMovies\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 29\n    }\n  }, transitions.forEach(movie => {\n    return __jsx(animated.div, {\n      key: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 33\n      }\n    }, newlyAddedMovies[key]);\n  })), newlyAddedMovies.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('newlyAddedMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('newlyAddedMovies'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 642,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 643,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 21\n    }\n  })), movieWatchList.length > 0 && __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"/server/\" + server.server_id + \"/movies\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 80\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 654,\n      columnNumber: 108\n    }\n  }, \"Filmer att se senare\"))), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"movieWatchList\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 29\n    }\n  }, movieWatchList), movieWatchList.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('movieWatchList'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('movieWatchList'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 21\n    }\n  })), newlyAddedEpisodes.length > 0 && __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"/server/\" + server.server_id + \"/shows\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 79\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 107\n    }\n  }, \"Nyligen tillagda avsnitt\"))), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"newlyAddedEpisodes\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 678,\n      columnNumber: 29\n    }\n  }, newlyAddedEpisodes), newlyAddedEpisodes.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('newlyAddedEpisodes'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('newlyAddedEpisodes'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 21\n    }\n  })), newlyAddedShows.length > 0 && __jsx(React.Fragment, null, __jsx(Link, {\n    href: \"/server/\" + server.server_id + \"/shows\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 25\n    }\n  }, __jsx(\"a\", {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 79\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 107\n    }\n  }, \"Nyligen tillagda serier\"))), __jsx(\"div\", {\n    className: Styles.movieRow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    id: \"newlyAddedShows\",\n    className: Styles.scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 29\n    }\n  }, newlyAddedShows), newlyAddedShows.length * 480 > windowSize.width && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: Styles.scrollButton,\n    onClick: () => scrollLeft('newlyAddedShows'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 41\n    }\n  })), __jsx(\"div\", {\n    className: Styles.scrollButton,\n    style: {\n      right: '0'\n    },\n    onClick: () => scrollRight('newlyAddedShows'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 37\n    }\n  }, __jsx(\"img\", {\n    src: `${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`,\n    width: \"70\",\n    height: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 41\n    }\n  })))), __jsx(\"hr\", {\n    className: Styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 21\n    }\n  }))))));\n};\n\nexport default main; // Get the information about the server and send it to the front end before render (this is server-side)\n\nexport async function getServerSideProps(context) {\n  let serverId = context.params.server;\n  return await fetch(`http://localhost:${process.env.SERVER_PORT}${process.env.SERVER_SUB_FOLDER}/api/servers/getServer`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      id: serverId\n    })\n  }).then(r => r.json()).then(data => {\n    return {\n      props: {\n        server: data.server\n      }\n    };\n  });\n}","map":{"version":3,"sources":["/mnt/h/Code/Dose/Main Server/pages/server/[server]/index.js"],"names":["Layout","Head","fetch","cookie","Router","useEffect","useState","Carousel","Container","Row","Col","Link","validateServerAccess","useWindowSize","Styles","MovieBackdrop","EpisodePoster","socketIOClient","useTransition","animated","setItems","fetcher","url","then","r","json","result","main","props","server","latestMovies","setLatesMovies","ongoingMovies","setOngoingMovies","movieWatchList","setMovieWatchList","ongoingShows","setOngoingShows","newlyAddedMovies","setNewlyAddedMovies","newlyAddedShows","setNewlyAddedShows","newlyAddedEpisodes","setNewlyAddedEpisodes","recommendedMovie","setRecommendedMovie","popularMovies","setPopularMovies","loading","loaded","setLoaded","transitions","from","opacity","enter","leave","delay","windowSize","allContent","getMovieList","genre","orderby","limit","ongoing","watchlist","popular","Promise","resolve","reject","server_ip","get","method","headers","body","JSON","stringify","response","forEach","movie","image","images","active","type","path","backdrop","poster","getNewEpisodeList","episode","console","log","getShowList","upcoming","getActiveImage","serverToken","socket","on","movieElements","img","push","id","watchtime","runtime","title","overview","selectMovie","status","activeLogo","movies","reverse","objectFit","height","minHeight","cursor","textShadow","shows","showElements","show","selectShow","time_watched","season_name","episode_number","total_time","selectEpisode","show_id","season_number","internalepisodeid","episodes","episodeElements","serie_id","season","internalEpisodeID","server_id","showID","seasonNumber","episodeNumber","scrollLeft","document","getElementById","window","innerWidth","scrollTo","scrollX","scrollY","scrollRight","loadingioSpinnerEclipse","ldio","recommended","recommendedInformation","logo","controls","process","env","NEXT_PUBLIC_SERVER_URL","color","contentRows","length","textTransform","movieRow","scrollable","width","scrollButton","right","divider","key","getServerSideProps","context","serverId","params","SERVER_PORT","SERVER_SUB_FOLDER","data"],"mappings":"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","sourcesContent":["import Layout from '../../../components/layout'\r\nimport Head from 'next/head'\r\nimport fetch from 'node-fetch'\r\nimport cookie from 'js-cookie';\r\nimport Router from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\nimport { Carousel, Container, Row, Col } from 'react-bootstrap';\r\nimport Link from 'next/link';\r\nimport validateServerAccess from '../../../lib/validateServerAccess';\r\nimport useWindowSize from '../../../components/hooks/WindowSize';\r\nimport Styles from '../../../styles/server.module.css';\r\nimport MovieBackdrop from '../../../components/movieBackdrop';\r\nimport EpisodePoster from '../../../components/episodePoster';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { useTransition, animated, setItems } from 'react-spring';\r\n\r\nconst fetcher = url =>\r\n  fetch(url)\r\n    .then(r => {\r\n      return r.json().then(result => {\r\n          return result;\r\n      });\r\n    }\r\n  );\r\n\r\nconst main = (props) => {\r\n    // props.server is from the SSR under this function\r\n    let server = props.server;\r\n    \r\n    const [latestMovies, setLatesMovies] = useState(null);\r\n    const [ongoingMovies, setOngoingMovies] = useState([]);\r\n    const [movieWatchList, setMovieWatchList] = useState([]);\r\n    const [ongoingShows, setOngoingShows] = useState([]);\r\n    const [newlyAddedMovies, setNewlyAddedMovies] = useState([]);\r\n    const [newlyAddedShows, setNewlyAddedShows] = useState([]);\r\n    const [newlyAddedEpisodes, setNewlyAddedEpisodes] = useState([]);\r\n    const [recommendedMovie, setRecommendedMovie] = useState(false);\r\n    const [popularMovies, setPopularMovies] = useState([]);\r\n    let loading = 0;\r\n    const [loaded, setLoaded] = useState(false)\r\n\r\n    const transitions = useTransition(newlyAddedMovies, {\r\n        from: { opacity: 0 },\r\n        enter: { opacity: 1 },\r\n        leave: { opacity: 0 },\r\n        delay: 200\r\n    })\r\n    \r\n    \r\n\r\n\r\n\r\n    const windowSize = useWindowSize();\r\n    let allContent = [];\r\n\r\n    /**\r\n     * Makes a query to the current active server for a list of movies\r\n     * \r\n     * @param {string} genre \r\n     * @param {string} orderby \r\n     * @param {int} limit \r\n     */\r\n    const getMovieList = async (genre=null, orderby=null, limit=20, ongoing=false, watchlist=false, popular=false) => {\r\n        return new Promise((resolve, reject) => {\r\n            let url;\r\n            if (ongoing) {\r\n                url = `${server.server_ip}/api/movies/list/ongoing?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            } else if(watchlist) {\r\n                url = `${server.server_ip}/api/movies/list/watchlist?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            } else if(popular) {\r\n                url = `${server.server_ip}/api/movies/list/popular?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            } else {\r\n                url = `${server.server_ip}/api/movies/list${genre !== null ? '/genre/'+genre : ''}?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            }\r\n            fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    limit: 20\r\n                })\r\n            })\r\n            .then((r) => r.json())\r\n            .then((response) => {\r\n                // Mark the movies active image\r\n                response.result.forEach(movie => {\r\n                    for (let image of movie.images) {\r\n                        if (image.active) {\r\n                            if (image.type === 'BACKDROP') {\r\n                                if (image.path === 'no_image') {\r\n                                    movie.backdrop = null;\r\n                                } else {\r\n                                    movie.backdrop = image.path;\r\n                                }\r\n                            } else {\r\n                                if (image.path === 'no_image') {\r\n                                    movie.backdrop = null;\r\n                                } else {\r\n                                    movie.poster = image.path;\r\n                                }\r\n                            }\r\n\r\n                            if (movie.backdrop != null && movie.poster != null) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                resolve(response.result);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Makes a query to the current active server for a list of new episodes\r\n     * \r\n     * @param {string} genre \r\n     * @param {string} orderby \r\n     * @param {int} limit \r\n     */\r\n         const getNewEpisodeList = async (orderby=null, limit=20) => {\r\n            return new Promise((resolve, reject) => {\r\n                let url;\r\n                url = `${server.server_ip}/api/series/list/episodes?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n                fetch(url, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        limit: 20\r\n                    })\r\n                })\r\n                .then((r) => r.json())\r\n                .then((response) => {\r\n                    // Mark the movies active image\r\n                    response.result.forEach(episode => {\r\n                        for (let image of episode.images) {\r\n                            if (image.active) {\r\n                                if (image.type === 'BACKDROP') {\r\n                                    if (image.path === 'no_image') {\r\n                                        episode.backdrop = null;\r\n                                    } else {\r\n                                        episode.backdrop = image.path;\r\n                                    }\r\n                                } else if (image.type === 'POSTER') {\r\n                                    if (image.path === 'no_image') {\r\n                                        episode.poster = null;\r\n                                    } else {\r\n                                        episode.poster = image.path;\r\n                                    }\r\n                                } else {\r\n                                    if (image.path === 'no_image') {\r\n                                        episode.backdrop = null;\r\n                                    } else {\r\n                                        episode.poster = image.path;\r\n                                    }\r\n                                }\r\n    \r\n                                if (episode.backdrop != null && episode.poster != null) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    console.log(response.result);\r\n                    resolve(response.result);\r\n                });\r\n            });\r\n        }\r\n\r\n    const getShowList = async (genre=null, orderby=null, limit=20, ongoing=false) => {\r\n        return new Promise((resolve, reject) => {\r\n            let url;\r\n            if (ongoing) {\r\n                url = `${server.server_ip}/api/series/list/ongoing?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            } else {\r\n                url = `${server.server_ip}/api/series/list${genre !== null ? '/genre/'+genre : ''}?${orderby !== null ? 'orderby='+orderby+'&' : ''}limit=${limit}&token=${cookie.get('serverToken')}`\r\n            }\r\n            fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    limit: 20\r\n                })\r\n            })\r\n            .then((r) => r.json())\r\n            .then((response) => {\r\n                // Mark the movies active image\r\n                if (ongoing) {\r\n                    response.upcoming.forEach(movie => {\r\n                        for (let image of movie.images) {\r\n                            if (image.active) {\r\n                                if (image.type === 'BACKDROP') {\r\n                                    if (image.path === 'no_image') {\r\n                                        movie.backdrop = null;\r\n                                    } else {\r\n                                        movie.backdrop = image.path;\r\n                                    }\r\n                                } else {\r\n                                    if (image.path === 'no_image') {\r\n                                        movie.backdrop = null;\r\n                                    } else {\r\n                                        movie.poster = image.path;\r\n                                    }\r\n                                }\r\n    \r\n                                if (movie.backdrop != null && movie.poster != null) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    response.ongoing.forEach(movie => {\r\n                        for (let image of movie.images) {\r\n                            if (image.active) {\r\n                                if (image.type === 'BACKDROP') {\r\n                                    if (image.path === 'no_image') {\r\n                                        movie.backdrop = null;\r\n                                    } else {\r\n                                        movie.backdrop = image.path;\r\n                                    }\r\n                                } else {\r\n                                    if (image.path === 'no_image') {\r\n                                        movie.backdrop = null;\r\n                                    } else {\r\n                                        movie.poster = image.path;\r\n                                    }\r\n                                }\r\n    \r\n                                if (movie.backdrop != null && movie.poster != null) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                    resolve(response);\r\n                    return;\r\n                }\r\n\r\n\r\n                response.result.forEach(movie => {\r\n                    for (let image of movie.images) {\r\n                        if (image.active) {\r\n                            if (image.type === 'BACKDROP') {\r\n                                if (image.path === 'no_image') {\r\n                                    movie.backdrop = null;\r\n                                } else {\r\n                                    movie.backdrop = image.path;\r\n                                }\r\n                            } else {\r\n                                if (image.path === 'no_image') {\r\n                                    movie.backdrop = null;\r\n                                } else {\r\n                                    movie.poster = image.path;\r\n                                }\r\n                            }\r\n\r\n                            if (movie.backdrop != null && movie.poster != null) {\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                resolve(response.result);\r\n            });\r\n        });\r\n    }\r\n\r\n    const getActiveImage = (images, type) => {\r\n        for (let image of images) {\r\n            if (image.type === type && image.active && image.path != \"no_image\") {\r\n                return image;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    useEffect(() => {\r\n        validateServerAccess(server, (serverToken) => {\r\n            const socket = socketIOClient(server.server_ip);\r\n            socket.on(\"MOVIE\", movie => {\r\n                console.log(movie);\r\n                let movieElements = newlyAddedMovies;\r\n                let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                movieElements.push(\r\n                    <MovieBackdrop markAsDoneButton id={movie.id} time={movie.watchtime} runtime={movie.runtime} title={movie.title} overview={movie.overview} runtime={movie.runtime} backdrop={img} onClick={(id) => selectMovie(movie.id)}></MovieBackdrop>\r\n                );\r\n                setNewlyAddedMovies(movieElements);\r\n            });      \r\n            \r\n            \r\n            // Get recommended video (random video right now)\r\n            fetch(`${server.server_ip}/api/movies/list/random?trailer=true&token=${cookie.get('serverToken')}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            })\r\n            .then((r) => r.json())\r\n            .then(result => {\r\n                if (result.status === 'success') {\r\n                    result.movie.activeLogo = getActiveImage(result.movie.images, 'LOGO');\r\n                    console.log(result);\r\n\r\n                    setRecommendedMovie(result.movie);\r\n                } else {\r\n                    console.log(\"Error getting recommended movie\");\r\n                }\r\n            })\r\n            \r\n\r\n            // Get all the newest released movies (The slieshow)\r\n            getMovieList(null, 'release_date', 5).then(movies => {\r\n                movies.reverse();\r\n                let movieElements = [];\r\n                for (let movie of movies) {\r\n                    let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/original/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    movieElements.push(\r\n                        <Carousel.Item>\r\n                            <img \r\n                                className=\"d-block w-100\"\r\n                                src={img}\r\n                                alt={movie.title}\r\n                                style={{objectFit: 'cover', height: '90vh', minHeight: '500px', cursor: 'pointer'}}\r\n                                onClick={() => {selectMovie(movie.id)}}\r\n                            />\r\n                            <Carousel.Caption>\r\n                                <h3 style={{textShadow: '0px 0px 6px #000'}}>{movie.title}</h3>\r\n                                <p style={{textShadow: '0px 0px 6px #000'}}>{movie.overview}</p>\r\n                            </Carousel.Caption>\r\n                        </Carousel.Item>\r\n                    );\r\n                }\r\n                loading++\r\n                setLatesMovies(movieElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            // Get popular movies\r\n            getMovieList(null, 'release_date', 20, false, false, true).then(movies => {\r\n                movies.reverse();\r\n                let movieElements = [];\r\n                for (let movie of movies) {\r\n                    let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    movieElements.push(\r\n                        <MovieBackdrop markAsDoneButton id={movie.id} time={movie.watchtime} runtime={movie.runtime} title={movie.title} overview={movie.overview} runtime={movie.runtime} backdrop={img} onClick={(id) => selectMovie(movie.id)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setPopularMovies(movieElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            // Get ongoing movies\r\n            getMovieList(null, 'release_date', 20, true).then(movies => {\r\n                movies.reverse();\r\n                let movieElements = [];\r\n                for (let movie of movies) {\r\n                    let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    movieElements.push(\r\n                        <MovieBackdrop markAsDoneButton id={movie.id} time={movie.watchtime} runtime={movie.runtime} title={movie.title} overview={movie.overview} runtime={movie.runtime} backdrop={img} onClick={(id) => selectMovie(movie.id)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setOngoingMovies(movieElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            // Get watchlist for movies\r\n            getMovieList(null, 'release_date', 20, false, true).then(movies => {\r\n                movies.reverse();\r\n                let movieElements = [];\r\n                for (let movie of movies) {\r\n                    let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    movieElements.push(\r\n                        <MovieBackdrop markAsDoneButton id={movie.id} time={movie.watchtime} runtime={movie.runtime} title={movie.title} overview={movie.overview} runtime={movie.runtime} backdrop={img} onClick={(id) => selectMovie(movie.id)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setMovieWatchList(movieElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            // Get newly added movies\r\n            getMovieList(null, 'added_date', 20).then(movies => {\r\n                let movieElements = [];\r\n                for (let movie of movies) {\r\n                    let img = movie.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${movie.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    movieElements.push(\r\n                        <MovieBackdrop markAsDoneButton id={movie.id} time={movie.watchtime} runtime={movie.runtime} title={movie.title} overview={movie.overview} runtime={movie.runtime} backdrop={img} onClick={(id) => selectMovie(movie.id)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setNewlyAddedMovies(movieElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            // Get newly added shows\r\n            getShowList(null, 'added_date', 20).then(shows => {\r\n                let showElements = [];\r\n                for (let show of shows) {\r\n                    let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    showElements.push(\r\n                        <MovieBackdrop markAsDoneButton id={show.id} time={show.watchtime} runtime={show.runtime} title={show.title} overview={show.overview} runtime={show.runtime} backdrop={img} onClick={(id) => selectShow(show.id)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setNewlyAddedShows(showElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n            // Get ongoing shows\r\n            getShowList(null, 'added_date', 20, true).then(result => {\r\n                let showElements = [];\r\n                for (let show of result.upcoming) {\r\n                    let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    showElements.push(\r\n                        <MovieBackdrop showTitle markAsDoneButton id={show.id} time={show.time_watched} runtime={show.runtime} title={show.season_name + \" - Episode \" + show.episode_number}\r\n                                       overview={show.overview} runtime={show.total_time} backdrop={img} onClick={(id) => selectEpisode(show.show_id, show.season_number, show.episode_number, show.internalepisodeid)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                for (let show of result.ongoing) {\r\n                    let img = show.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${show.backdrop}` : 'https://via.placeholder.com/2000x1000' \r\n                    showElements.push(\r\n                        <MovieBackdrop showTitle markAsDoneButton id={show.id} time={show.time_watched} runtime={show.runtime} title={show.season_name + \" - Episode \" + show.episode_number}\r\n                                       overview={show.overview} runtime={show.total_time} backdrop={img} onClick={(id) => selectEpisode(show.show_id, show.season_number, show.episode_number, show.internalepisodeid)}></MovieBackdrop>\r\n                    );\r\n                }\r\n                loading++\r\n                setOngoingShows(showElements);\r\n\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n\r\n            getNewEpisodeList('added_date', 20).then(episodes => {\r\n                let episodeElements = [];\r\n\r\n                for (let episode of episodes) {\r\n                    let poster = episode.poster !== null ? `https://image.tmdb.org/t/p/w500/${episode.poster}` : 'https://via.placeholder.com/500x1000';\r\n                    let backdrop = episode.backdrop !== null ? `https://image.tmdb.org/t/p/w500/${episode.backdrop}` : 'https://via.placeholder.com/500x1000' \r\n                    episodeElements.push(\r\n                        <EpisodePoster show={episode.serie_id} season={episode.season} episode={episode.episode} poster={poster} internalEpisodeID={episode.internalepisodeid} backdrop={backdrop}\r\n                            onClick={(season, episode, show, internalEpisodeID) => selectEpisode(show, season, episode, internalEpisodeID)}></EpisodePoster>\r\n                    );\r\n                }\r\n                loading++\r\n                setNewlyAddedEpisodes(episodeElements);\r\n            }).then(() => {\r\n                if(loading == 7) {\r\n                    setLoaded(true)\r\n                }\r\n            })\r\n        });\r\n    }, [loading]);\r\n\r\n\r\n    const selectMovie = (id) => {\r\n        Router.push(`/server/${server.server_id}/movies/video/${id}`);\r\n    }\r\n\r\n    const selectShow = (id) => {\r\n        Router.push(`/server/${server.server_id}/shows/video/${id}`);\r\n    }\r\n\r\n    const selectEpisode = (showID, seasonNumber, episodeNumber, internalEpisodeID) => {\r\n        Router.push(`/server/${server.server_id}/shows/video/${showID}/season/${seasonNumber}/episode/${episodeNumber}?internalID=${internalEpisodeID}`)\r\n    }\r\n\r\n\r\n    const scrollLeft = (id) => {\r\n        document.getElementById(id).scrollLeft -= (window.innerWidth)*0.8;\r\n        window.scrollTo(window.scrollX, window.scrollY - 1);\r\n        window.scrollTo(window.scrollX, window.scrollY + 1);\r\n    }\r\n    const scrollRight = (id) => {\r\n        document.getElementById(id).scrollLeft += (window.innerWidth)*0.8;\r\n        window.scrollTo(window.scrollX, window.scrollY - 1);\r\n        window.scrollTo(window.scrollX, window.scrollY + 1);\r\n    }\r\n\r\n    // LAYOUT //\r\n    return (<>\r\n        {!loaded &&\r\n            <div className={Styles.loadingioSpinnerEclipse}>\r\n            <div className={Styles.ldio}>\r\n                <div></div>\r\n            </div>\r\n            </div>\r\n        }\r\n        {loaded &&\r\n\r\n        <Layout searchEnabled server={server} serverToken={cookie.get('serverToken')}>\r\n        <Head>\r\n        </Head>\r\n\r\n        {recommendedMovie != false &&\r\n            <div className={Styles.recommended}>\r\n                <video  autoPlay={true} loop={true} preload=\"auto\" muted>\r\n                    <source src={`${server.server_ip}/api/trailer/${recommendedMovie[\"id\"]}?type=MOVIE&token=${cookie.get('serverToken')}`}type=\"video/mp4\" />\r\n                </video>\r\n                <div className={Styles.recommendedInformation}>\r\n                    {recommendedMovie[\"activeLogo\"] != false &&\r\n                    <img src={`https://image.tmdb.org/t/p/original/${recommendedMovie[\"activeLogo\"].path}`} className={Styles.logo} />\r\n                    }\r\n                    {recommendedMovie[\"activeLogo\"] == false &&\r\n                    <h1>{recommendedMovie[\"title\"]}</h1>\r\n                    }\r\n                    <p>{recommendedMovie[\"overview\"]}</p>\r\n                    <div className={Styles.controls}>\r\n                        <Link href={`/server/${server.server_id}/movies/video/${recommendedMovie[\"id\"]}?autoPlay=true`}>\r\n                            <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/001-play-button.png`} />\r\n                        </Link>\r\n                        <Link href={`/server/${server.server_id}/movies/video/${recommendedMovie[\"id\"]}`}>\r\n                            <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/002-information.png`} />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n    \r\n    \r\n            </div>\r\n        }\r\n\r\n            \r\n        <br></br>\r\n        <div style={{color: 'white'}}>\r\n            <Container fluid className={Styles.contentRows}>\r\n            {popularMovies.length > 0 &&\r\n                    <>\r\n                        <h2 style={{textTransform: 'capitalize'}}>Populrt just nu</h2>  \r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"popularMovies\" className={Styles.scrollable}>\r\n                                {popularMovies}\r\n                            </div>\r\n                            {popularMovies.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('popularMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('popularMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n\r\n                {ongoingMovies.length > 0 &&\r\n                    <>\r\n                        <h2 style={{textTransform: 'capitalize'}}>Pgende filmer</h2>  \r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"ongoingMovies\" className={Styles.scrollable}>\r\n                                {ongoingMovies}\r\n                            </div>\r\n                            {ongoingMovies.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('ongoingMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('ongoingMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n\r\n                {ongoingShows.length > 0 &&\r\n                    <>\r\n                        <h2 style={{textTransform: 'capitalize'}}>Pgende serier</h2>    \r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"ongoingShows\" className={Styles.scrollable}>\r\n                                {ongoingShows}\r\n                            </div>\r\n                            {ongoingShows.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('ongoingShows')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('ongoingShows')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n\r\n                {newlyAddedMovies.length > 0 &&\r\n                    <>\r\n                        <Link href={\"/server/\" + server.server_id + \"/movies\"}><a style={{color: 'white'}}><h2 style={{textTransform: 'capitalize'}}>Nyligen tillagda filmer</h2></a></Link>   \r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"newlyAddedMovies\" className={Styles.scrollable}>\r\n                            {transitions.forEach((movie) => {\r\n                                return (\r\n                                <animated.div key={movie.id}>\r\n                                    {newlyAddedMovies[key]}\r\n                                </animated.div>\r\n                                );\r\n                            })}\r\n                            </div>\r\n                            {newlyAddedMovies.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('newlyAddedMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('newlyAddedMovies')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n\r\n                {movieWatchList.length > 0 &&\r\n                    <>\r\n                        <Link href={\"/server/\" + server.server_id + \"/movies\"}><a style={{color: 'white'}}><h2 style={{textTransform: 'capitalize'}}>Filmer att se senare</h2></a></Link>   \r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"movieWatchList\" className={Styles.scrollable}>\r\n                                {movieWatchList}\r\n                            </div>\r\n                            {movieWatchList.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('movieWatchList')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('movieWatchList')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n                \r\n                {newlyAddedEpisodes.length > 0 &&\r\n                    <>\r\n                        <Link href={\"/server/\" + server.server_id + \"/shows\"}><a style={{color: 'white'}}><h2 style={{textTransform: 'capitalize'}}>Nyligen tillagda avsnitt</h2></a></Link>\r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"newlyAddedEpisodes\" className={Styles.scrollable}>\r\n                                {newlyAddedEpisodes}\r\n                            </div>\r\n                            {newlyAddedEpisodes.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('newlyAddedEpisodes')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('newlyAddedEpisodes')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n                \r\n                {newlyAddedShows.length > 0 &&\r\n                    <>\r\n                        <Link href={\"/server/\" + server.server_id + \"/shows\"}><a style={{color: 'white'}}><h2 style={{textTransform: 'capitalize'}}>Nyligen tillagda serier</h2></a></Link>\r\n                        <div className={Styles.movieRow}>\r\n                            <div id=\"newlyAddedShows\" className={Styles.scrollable}>\r\n                                {newlyAddedShows}\r\n                            </div>\r\n                            {newlyAddedShows.length * 480 > windowSize.width &&\r\n                                <>\r\n                                    <div className={Styles.scrollButton} onClick={() => scrollLeft('newlyAddedShows')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/left.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                    <div className={Styles.scrollButton} style={{right: '0'}} onClick={() => scrollRight('newlyAddedShows')}>\r\n                                        <img src={`${process.env.NEXT_PUBLIC_SERVER_URL}/images/right.svg`} width=\"70\" height=\"70\" />\r\n                                    </div>\r\n                                </>\r\n                            }\r\n                        </div> \r\n                    <hr className={Styles.divider}></hr>\r\n                    </> \r\n                }\r\n            </Container>\r\n        </div>\r\n        </Layout>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default main;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Get the information about the server and send it to the front end before render (this is server-side)\r\nexport async function getServerSideProps(context) {\r\n    let serverId = context.params.server;\r\n    return await fetch(`http://localhost:${process.env.SERVER_PORT}${process.env.SERVER_SUB_FOLDER}/api/servers/getServer`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            id: serverId\r\n        }),\r\n    })\r\n    .then((r) => r.json())\r\n    .then((data) => {\r\n        return {\r\n            props: {\r\n                server: data.server\r\n            }\r\n          }\r\n    });\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}