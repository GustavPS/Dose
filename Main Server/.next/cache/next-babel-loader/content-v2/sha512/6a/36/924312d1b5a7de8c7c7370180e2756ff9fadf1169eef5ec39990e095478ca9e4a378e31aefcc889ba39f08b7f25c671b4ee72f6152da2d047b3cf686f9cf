{"ast":null,"code":"var _jsxFileName = \"/mnt/h/Code/Dose/Main Server/components/movieBackdrop.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport style from './movieBackdrop.module.css';\nimport validateServerAccess from '../lib/validateServerAccess';\nexport default class MovieBackdrop extends React.Component {\n  constructor(props) {\n    super(props);\n    this.title = props.title;\n    this.overview = props.overview;\n    this.poster = props.poster;\n    this.runtime = props.runtime;\n    this.backdrop = props.backdrop;\n    this.id = props.id;\n    this.time = props.time ? props.time : null;\n    this.runtime = props.runtime ? props.runtime : null;\n    this.markAsDoneButton = props.markAsDoneButton;\n    this.showTitle = props.showTitle;\n    this.multipleRows = props.multipleRows ? props.multipleRows : null;\n    this.markAsWatched = this.markAsWatched.bind(this);\n  }\n\n  markAsWatched() {\n    validateServerAccess(server, serverToken => {\n      fetch(`${server.server_ip}/api/movies/${id}/setWatched?watched=true&token=${serverToken}`).then(r => r.json()).then(status => {\n        if (status.success) {\n          this.props.unMountMe();\n        } else {\n          console.log(\"ERROR MARKING AS WATCHED: \" + status);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n  }\n\n  getStyle() {\n    if (this.showTitle) {\n      return {\n        opacity: '1'\n      };\n    } else {\n      return {};\n    }\n  }\n\n  getBackdropStyle() {\n    let style = {\n      backgroundImage: `url('${this.backdrop}')`\n    };\n\n    if (this.multipleRows) {\n      style.marginBottom = \"20px\";\n      style.width = \"445px\";\n    }\n\n    return style;\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      onClick: () => this.props.onClick(this.id),\n      className: style.backdrop,\n      style: this.getBackdropStyle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, __jsx(\"h3\", {\n      className: style.title,\n      style: this.getStyle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, this.title), __jsx(\"p\", {\n      className: style.overview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, this.overview.substring(0, 150), this.overview.length > 150 ? '...' : ''), this.time != null && this.runtime != null && __jsx(\"progress\", {\n      className: style.progress,\n      value: this.time,\n      max: this.runtime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/mnt/h/Code/Dose/Main Server/components/movieBackdrop.js"],"names":["style","validateServerAccess","MovieBackdrop","React","Component","constructor","props","title","overview","poster","runtime","backdrop","id","time","markAsDoneButton","showTitle","multipleRows","markAsWatched","bind","server","serverToken","fetch","server_ip","then","r","json","status","success","unMountMe","console","log","catch","err","getStyle","opacity","getBackdropStyle","backgroundImage","marginBottom","width","render","onClick","substring","length","progress"],"mappings":"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","sourcesContent":["import style from './movieBackdrop.module.css';\r\nimport validateServerAccess from '../lib/validateServerAccess';\r\n\r\n\r\nexport default class MovieBackdrop extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.title = props.title;\r\n        this.overview = props.overview;\r\n        this.poster = props.poster\r\n        this.runtime = props.runtime;\r\n        this.backdrop = props.backdrop;\r\n        this.id = props.id;\r\n        this.time = props.time ? props.time : null;\r\n        this.runtime = props.runtime ? props.runtime : null;\r\n        this.markAsDoneButton = props.markAsDoneButton;\r\n        this.showTitle = props.showTitle;\r\n        this.multipleRows = props.multipleRows ? props.multipleRows : null;\r\n\r\n        this.markAsWatched = this.markAsWatched.bind(this);\r\n    }\r\n\r\n    markAsWatched() {\r\n        validateServerAccess(server, (serverToken) => {\r\n            fetch(`${server.server_ip}/api/movies/${id}/setWatched?watched=true&token=${serverToken}`)\r\n            .then(r => r.json())\r\n            .then(status => {\r\n                if (status.success) {\r\n                    this.props.unMountMe();\r\n                } else {\r\n                    console.log(\"ERROR MARKING AS WATCHED: \" + status);\r\n                }\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    getStyle() {\r\n        if (this.showTitle) {\r\n            return {opacity: '1'};\r\n        } else {\r\n            return {};\r\n        }\r\n    }\r\n\r\n    getBackdropStyle() {\r\n        let style = {\r\n            backgroundImage: `url('${this.backdrop}')`\r\n        }\r\n        if (this.multipleRows) {\r\n            style.marginBottom = \"20px\";\r\n            style.width = \"445px\";\r\n        }\r\n        return style;\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div onClick={() => this.props.onClick(this.id)} className={style.backdrop} style={this.getBackdropStyle()}>\r\n                <h3 className={style.title} style={this.getStyle()}>{this.title}</h3>\r\n                <p className={style.overview}>\r\n                    {this.overview.substring(0, 150)}{this.overview.length > 150 ? '...' : ''}\r\n                </p>\r\n                {this.time != null && this.runtime != null &&\r\n                    <progress className={style.progress} value={this.time} max={this.runtime}></progress>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}