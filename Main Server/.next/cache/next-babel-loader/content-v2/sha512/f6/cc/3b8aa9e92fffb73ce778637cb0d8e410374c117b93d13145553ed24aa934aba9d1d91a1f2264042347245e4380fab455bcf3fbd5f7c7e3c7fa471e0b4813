{"ast":null,"code":"const hash = require('../auth/hash');\n\nconst db = require('../../../lib/db').default;\n\nexport default async function handle(req, res) {\n  let server = await db.any('SELECT server_name, server_ip, server_id FROM server WHERE server_id = $1', [req.body.id]);\n\n  if (server.length === 0) {\n    res.status(200).json({\n      status: 'error',\n      error: 'server_no_exist',\n      server: {}\n    });\n    return;\n  }\n\n  res.status(200).json({\n    status: 'success',\n    server: server[0]\n  });\n}","map":{"version":3,"sources":["/mnt/h/Code/Dose/Main Server/pages/api/servers/getServer.js"],"names":["hash","require","db","default","handle","req","res","server","any","body","id","length","status","json","error"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,cAAD,CAApB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,iBAAD,CAAP,CAA2BE,OAAtC;;AAEA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC3C,MAAIC,MAAM,GAAG,MAAML,EAAE,CAACM,GAAH,CAAO,2EAAP,EAAoF,CAACH,GAAG,CAACI,IAAJ,CAASC,EAAV,CAApF,CAAnB;;AACA,MAAIH,MAAM,CAACI,MAAP,KAAkB,CAAtB,EAAyB;AACrBL,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBD,MAAAA,MAAM,EAAE,OADS;AAEjBE,MAAAA,KAAK,EAAE,iBAFU;AAGjBP,MAAAA,MAAM,EAAE;AAHS,KAArB;AAKA;AACH;;AAEDD,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBD,IAAAA,MAAM,EAAE,SADS;AAEjBL,IAAAA,MAAM,EAAEA,MAAM,CAAC,CAAD;AAFG,GAArB;AAKH","sourcesContent":["const hash = require('../auth/hash');\r\nconst db = require('../../../lib/db').default;\r\n\r\nexport default async function handle(req, res) {\r\n    let server = await db.any('SELECT server_name, server_ip, server_id FROM server WHERE server_id = $1', [req.body.id]);\r\n    if (server.length === 0) {\r\n        res.status(200).json({\r\n            status: 'error',\r\n            error: 'server_no_exist',\r\n            server: {}\r\n        });\r\n        return;\r\n    }\r\n\r\n    res.status(200).json({\r\n        status: 'success',\r\n        server: server[0]\r\n    });\r\n\r\n}"]},"metadata":{},"sourceType":"module"}