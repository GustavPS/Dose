{"ast":null,"code":"const hash = require('../auth/hash');\n\nexport default async function handle(req, res) {\n  let user = hash.decodeJWT(req.body.token);\n  let username = ''; // Not authenticated\n\n  if (user !== false) {\n    username = user.username;\n    console.log(`${username} just validated.`);\n  }\n\n  res.status(200).json({\n    valid: user !== false,\n    username: username\n  });\n}\n;","map":{"version":3,"sources":["/mnt/h/Code/Dose/Main Server/pages/api/auth/validate.js"],"names":["hash","require","handle","req","res","user","decodeJWT","body","token","username","console","log","status","json","valid"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAGA,eAAe,eAAeC,MAAf,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC3C,MAAIC,IAAI,GAAGL,IAAI,CAACM,SAAL,CAAeH,GAAG,CAACI,IAAJ,CAASC,KAAxB,CAAX;AACA,MAAIC,QAAQ,GAAG,EAAf,CAF2C,CAK3C;;AACA,MAAIJ,IAAI,KAAK,KAAb,EAAoB;AAChBI,IAAAA,QAAQ,GAAGJ,IAAI,CAACI,QAAhB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,GAAEF,QAAS,kBAAxB;AACH;;AACDL,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,IAAAA,KAAK,EAAET,IAAI,KAAK,KADC;AAEjBI,IAAAA,QAAQ,EAAEA;AAFO,GAArB;AAIH;AAAA","sourcesContent":["const hash = require('../auth/hash');\r\n\r\n\r\nexport default async function handle(req, res) {\r\n    let user = hash.decodeJWT(req.body.token);\r\n    let username = '';\r\n\r\n\r\n    // Not authenticated\r\n    if (user !== false) {\r\n        username = user.username;\r\n        console.log(`${username} just validated.`);\r\n    }\r\n    res.status(200).json({\r\n        valid: user !== false,\r\n        username: username\r\n    });\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}